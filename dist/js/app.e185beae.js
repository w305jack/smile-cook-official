(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"06e8":function(t,e,a){"use strict";var s=a("8932"),i=a.n(s);i.a},"0d7d":function(t,e,a){},"1e96":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"5c0b":function(t,e,a){"use strict";var s=a("e332"),i=a.n(s);i.a},"6d0e":function(t,e,a){"use strict";var s=a("0d7d"),i=a.n(s);i.a},8932:function(t,e,a){},"8c29":function(t,e,a){"use strict";var s=a("1e96"),i=a.n(s);i.a},"8f1e":function(t,e,a){},a6dd:function(t,e,a){"use strict";var s=a("8f1e"),i=a.n(s);i.a},cd49:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("8c60"),i=a("c1df"),n=a.n(i),r=a("2b0e"),o=a("342d"),c=a.n(o),l=a("bd86"),u=a("2f62"),p=(a("8e6e"),a("ac6a"),a("456d"),a("bc3a")),d=a.n(p);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(a,!0).forEach((function(e){Object(l["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v="/api/",f="".concat(v,"users"),b="".concat(v,"users/{username}"),g="".concat(v,"users/avatar"),_="".concat(v,"users/{username}/recipes"),E="".concat(v,"token"),C=("".concat(v,"refresh"),"".concat(v,"revoke")),O="".concat(v,"recipes"),y="".concat(v,"recipes/{recipeId}"),j="".concat(v,"recipes/{recipeId}/publish"),P="".concat(v,"recipes/{recipeId}/cover");function I(){return ba.state.tokenData.token?{Authorization:"Bearer ".concat(ba.state.tokenData.token)}:{}}function w(t){return new Promise((function(e,a){d.a.post(f,h({},t)).then((function(t){201===t.status?e(t):a(t)})).catch((function(t){a(t.response)}))}))}function R(t){return new Promise((function(e,a){d.a.post(E,h({},t)).then((function(t){200===t.status?e(t.data):a(t)})).catch((function(t){a(t.response)}))}))}function S(t){return new Promise((function(e,a){d.a.get(b.replace("{username}",t),{headers:h({},I())}).then((function(t){200===t.status?e(t.data):a(t)})).catch((function(t){a(t.response)}))}))}function T(t){return new Promise((function(e,a){var s=new FormData;s.append("avatar",t),d.a.put(g,s,{headers:h({},I())}).then((function(t){200===t.status?e(t.data):a(t)})).catch((function(t){a(t.response)}))}))}function k(t,e,a,s){return new Promise((function(i,n){d.a.get(_.replace("{username}",t),{params:{page:e,per_page:a,visibility:s},headers:h({},I())}).then((function(t){t.status>=200&&t.status<300?i(t.data):n(t)})).catch((function(t){n(t.response)}))}))}function A(){return new Promise((function(t,e){d.a.delete(C,{headers:h({},I())}).then((function(a){200===a.status?t({message:""}):e(!0)})).catch((function(t){e(!0)}))}))}function L(t,e,a,s,i){return new Promise((function(n,r){d.a.get(O,{params:{q:t,page:e,per_page:a,sort:s,order:i},headers:h({},I())}).then((function(t){t.status>=200&&t.status<300?n(t.data):r(t)})).catch((function(t){r(t.response)}))}))}function U(t){return new Promise((function(e,a){d.a.post(O,h({},t),{headers:h({},I())}).then((function(t){201===t.status?e(t.data):a(t)})).catch((function(t){a(t.response)}))}))}function N(t){return new Promise((function(e,a){d.a.patch(y.replace("{recipeId}",String(t.id)),h({},t),{headers:h({},I())}).then((function(t){200===t.status?e(t.data):a(t)})).catch((function(t){a(t.response)}))}))}function x(t){return new Promise((function(e,a){d.a.delete(y.replace("{recipeId}",String(t.id)),{headers:h({},I())}).then((function(t){204===t.status?e():a(t)})).catch((function(t){a(t.response)}))}))}function D(t){return new Promise((function(e,a){d.a.put(j.replace("{recipeId}",t),{},{headers:h({},I())}).then((function(t){204===t.status?e():a(t)})).catch((function(t){a(t.response)}))}))}function $(t){return new Promise((function(e,a){d.a.delete(j.replace("{recipeId}",t),{headers:h({},I())}).then((function(t){204===t.status?e():a(t)})).catch((function(t){a(t.response)}))}))}function V(t,e){return new Promise((function(a,s){var i=new FormData;i.append("cover",e),d.a.put(P.replace("{recipeId}",t),i,{headers:h({},I())}).then((function(t){200===t.status?a(t.data):s(t)})).catch((function(t){s(t.response)}))}))}function G(t){return new Promise((function(e,a){d.a.get(y.replace("{recipeId}",String(t)),{headers:h({},I())}).then((function(t){200===t.status?e(t.data):a(t)})).catch((function(t){a(t.response)}))}))}var B=a("a002"),M=a("d225"),H=function t(){Object(M["a"])(this,t)};H.LOGIN_REDIRECT="LOGIN_REDIRECT",H.CURRENT_ROUTE="CURRENT_ROUTE",H.REGISTER="REGISTER",H.LOGIN="LOGIN",H.LOGOUT="LOGOUT",H.GET_USER="GET_USER",H.GET_AUTHOR="GET_AUTHOR",H.UPLOAD_AVATAR="UPLOAD_AVATAR",H.GET_RECIPE_LIST="GET_RECIPE_LIST",H.CREATE_RECIPE="CREATE_RECIPE",H.UPDATE_RECIPE="UPDATE_RECIPE",H.DELETE_RECIPE="DELETE_RECIPE",H.PUBLISH_RECIPE="PUBLISH_RECIPE",H.UNPUBLISH_RECIPE="UNPUBLISH_RECIPE",H.UPLOAD_COVER="UPLOAD_COVER",H.GET_RECIPE="GET_RECIPE",H.GET_USER_RECIPE_LIST="GET_USER_RECIPE_LIST",H.OPEN_ALERT="OPEN_ALERT",H.CLOSE_ALERT="CLOSE_ALERT",H.OPEN_DIALOG="OPEN_DIALOG",H.CLOSE_DIALOG="CLOSE_DIALOG",H.DEREGISTER_USER="DEREGISTER_USER";var q=function t(){Object(M["a"])(this,t)};function F(){B["getItem"]("_ACCESS_TOKEN").then((function(t){t&&(fa.commit(q.SET_TOKEN,{token:t,status:"access"}),fa.dispatch(H.GET_USER,{username:"me"}).then((function(){fa.state.isLogin||(B["removeItem"]("_ACCESS_TOKEN"),B["removeItem"]("_REFRESH_TOKEN"))})))})).catch((function(t){B["removeItem"]("_ACCESS_TOKEN"),B["removeItem"]("_REFRESH_TOKEN")}))}q.SET_LOGIN_REDIRECT="SET_LOGIN_REDIRECT",q.SET_ROUTE_MAP="SET_ROUTE_MAP",q.SET_RECIPE_LIST="SET_RECIPE_LIST",q.SET_PAGINATION="SET_PAGINATION",q.SET_RECIPE_LIST_PARAMS="SET_RECIPE_LIST_PARAMS",q.SET_AUTHOR_RECIPE_LIST_PARAMS="SET_AUTHOR_RECIPE_LIST_PARAMS",q.REQUEST_TOKEN="REQUEST_TOKEN",q.SET_TOKEN="SET_TOKEN",q.REQUEST_TOKEN_ERROR="REQUEST_TOKEN_ERROR",q.CLEAR_TOKEN="CLEAR_TOKEN",q.SET_LOGIN_STATUS="SET_LOGIN_STATUS",q.SET_AVATAR="SET_AVATAR",q.REQUEST_USER="REQUEST_USER",q.SET_USER="SET_USER",q.REQUEST_USER_ERROR="REQUEST_USER_ERROR",q.CLEAR_USER="CLEAR_USER",q.SET_AUTHOR="SET_AUTHOR",q.SET_RECIPE_DETAIL="SET_RECIPE_DETAIL",q.SET_RECIPE_PUBLISH_STATUS="SET_RECIPE_PUBLISH_STATUS",q.SET_RECIPE_COVER="SET_RECIPE_COVER",q.SET_ALERT="SET_ALERT",q.RESET_ALERT="RESET_ALERT",q.SET_DIALOG="SET_DIALOG",q.CLEAR_DIALOG="CLEAR_DIALOG",B["config"]({driver:B["LOCALSTORAGE"],name:"smile_cook",storeName:"auth_data",version:1,description:""});a("a481");var z=a("0828"),K=a.n(z),Q=a("8c4f"),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"py-3 text-center"},[t._v("Login")]),a("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[a("div",{staticClass:"row justify-content-center py-3"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.email,expression:"inputItem.email"}],staticClass:"form-control",class:{"is-invalid":!t.emailValidated},attrs:{type:"email",id:"email"},domProps:{value:t.inputItem.email},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"email",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.emailValidated,expression:"!emailValidated"}],staticClass:"invalid-feedback"},[t._v("\n            Please enter a valid email address.\n          ")])])]),a("div",{staticClass:"row justify-content-center py-3"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.password,expression:"inputItem.password"}],staticClass:"form-control",class:{"is-invalid":!t.passwordValidated},attrs:{type:"password",id:"password"},domProps:{value:t.inputItem.password},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"password",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.passwordValidated,expression:"!passwordValidated"}],staticClass:"invalid-feedback"},[t._v("\n            Please enter your password.\n          ")])])]),a("hr",{staticClass:"mb-4 col-md-6 justify-content-center"}),a("div",{staticClass:"row pb-5 justify-content-center"},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.formCheck()}}},[t._v("Sign in")])])])])])])},Z=[],J=(a("7f7f"),a("b0b4")),W=a("308d"),X=a("6bb5"),tt=a("4e2b"),et=a("9ab4"),at=a("60a3");function st(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}function it(t){var e=/^\d+$/;return e.test(String(t))}var nt=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.inputItem={},t.showValidated=!1,t.emailValidated=!0,t.passwordValidated=!0,t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"formCheck",value:function(){this.emailValidated=!!this.inputItem.email&&st(this.inputItem.email),this.passwordValidated=!!this.inputItem.password,this.emailValidated&&this.passwordValidated&&this.submitLogin()}},{key:"submitLogin",value:function(){var t=this;this.$store.dispatch(H.LOGIN,{account:this.inputItem}).then((function(e){t.$router.push({name:t.$store.state.routeMap.from.name||"home",params:t.$store.state.routeMap.from.params})}))}},{key:"beforeMount",value:function(){this.$store.state.isLogin&&this.$router.push({name:"home"})}}]),e}(at["b"]);nt=Object(et["a"])([at["a"]],nt);var rt=nt,ot=rt,ct=a("2877"),lt=Object(ct["a"])(ot,Y,Z,!1,null,null,null),ut=lt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"py-3 text-center"},[t._v("Sign up")]),a("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[a("div",{staticClass:"row justify-content-center py-3"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"username"}},[t._v("Username")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.username,expression:"inputItem.username"}],staticClass:"form-control",class:{"is-invalid":!t.usernameValidated},attrs:{type:"text",id:"username",placeholder:"Username"},domProps:{value:t.inputItem.username},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"username",e.target.value)}}}),t.usernameValidated?t._e():a("div",{staticClass:"invalid-feedback"},[t._v("\n              Please enter a valid.\n            ")])])])]),a("div",{staticClass:"row justify-content-center py-3"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.email,expression:"inputItem.email"}],staticClass:"form-control",class:{"is-invalid":!t.emailValidated},attrs:{type:"email",id:"email",placeholder:"you@example.com"},domProps:{value:t.inputItem.email},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"email",e.target.value)}}}),t.emailValidated?t._e():a("div",{staticClass:"invalid-feedback"},[t._v("\n            Please enter a valid email address.\n          ")])])]),a("div",{staticClass:"row justify-content-center py-3"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.password,expression:"inputItem.password"}],staticClass:"form-control",class:{"is-invalid":!t.passwordValidated},attrs:{type:"password",id:"password",placeholder:""},domProps:{value:t.inputItem.password},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"password",e.target.value)}}}),t.passwordValidated?t._e():a("div",{staticClass:"invalid-feedback"},[t._v("\n            Please enter a valid password.\n          ")])])]),a("div",{staticClass:"row justify-content-center py-3"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"confirm-password"}},[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-control",class:{"is-invalid":!t.confirmPasswordValidated},attrs:{type:"password",id:"confirm-password",placeholder:""},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),t.confirmPasswordValidated?t._e():a("div",{staticClass:"invalid-feedback"},[t._v("\n            Please enter a valid confirm password.\n          ")])])]),a("hr",{staticClass:"mb-4 col-md-6 justify-content-center"}),a("div",{staticClass:"row pb-5 justify-content-center"},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.formCheck()}}},[t._v("Register")])])])])])])},dt=[],mt=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.inputItem={},t.confirmPassword="",t.usernameValidated=!0,t.emailValidated=!0,t.passwordValidated=!0,t.confirmPasswordValidated=!0,t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"formCheck",value:function(){if(this.inputItem.password&&this.inputItem.password===this.confirmPassword&&this.inputItem.username&&this.inputItem.email&&st(this.inputItem.email))return this.submitRegister();this.usernameValidated=!!this.inputItem.username,this.emailValidated=!!this.inputItem.email&&st(this.inputItem.email),this.passwordValidated=!!this.inputItem.password,this.confirmPasswordValidated=!!this.confirmPassword&&this.inputItem.password===this.confirmPassword}},{key:"submitRegister",value:function(){this.$store.dispatch("REGISTER",{profile:this.inputItem}).then((function(t){t&&aa.replace({name:"home"})}))}},{key:"beforeMount",value:function(){this.$store.state.isLogin&&this.$router.push({name:"home"})}}]),e}(at["b"]);mt=Object(et["a"])([at["a"]],mt);var ht=mt,vt=ht,ft=Object(ct["a"])(vt,pt,dt,!1,null,null,null),bt=ft.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-2"},[t._m(0),a("AuthorFilterComponent",{attrs:{username:t.username}}),t._l(t.recipes,(function(t){return a("RecipeItemComponent",{key:t.id,attrs:{recipeItem:t}})})),a("AuthorFilterComponent",{attrs:{username:t.username,enableResult:!1,enableDisplay:!1,enableVisibility:!1}})],2)},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12 pb-2"},[a("h2",[t._v("Your creation")])])}],Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.enableResult,expression:"enableResult"}],staticClass:"row pl-4 pr-4"},[t.isAuthor?a("p",{staticClass:"text-secondary"},[t._v("The total of "+t._s(t.pagination.total)+" recipes by "+t._s(t.listParams.visibility)+".")]):a("p",{staticClass:"text-secondary"},[t._v("The total of "+t._s(t.pagination.total)+" recipes.")])]),a("div",{staticClass:"row mb-auto mt-auto"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.enablePagination,expression:"enablePagination"}],staticClass:"col-4 ml-0"},[a("nav",[a("ul",{staticClass:"pagination mt-3"},[a("li",{staticClass:"page-item",class:{disabled:!t.pagination.links.prev}},[a("button",{staticClass:"page-link",on:{click:function(e){return e.stopPropagation(),t.onChangePage(t.pagination.page-1)}}},[t._v("Previous")])]),t._l(t.pagination.pages,(function(e){return a("li",{staticClass:"page-item",class:{active:e===t.pagination.page}},[e!==t.pagination.page&&(e>t.pagination.page-2&&e<t.pagination.page+2||e===t.pagination.page+2&&1===t.pagination.page||e===t.pagination.page-2&&t.pagination.page===t.pagination.pages)?a("button",{staticClass:"page-link",on:{click:function(a){return a.stopPropagation(),t.onChangePage(e)}}},[t._v(t._s(e))]):t._e(),e===t.pagination.page?a("button",{staticClass:"page-link"},[t._v(t._s(e))]):t._e()])})),a("li",{staticClass:"page-item",class:{disabled:!t.pagination.links.next}},[a("button",{staticClass:"page-link",on:{click:function(e){return e.stopPropagation(),t.onChangePage(t.pagination.page+1)}}},[t._v("Next")])])],2)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.enableDisplay||t.enableVisibility,expression:"enableDisplay || enableVisibility"}],staticClass:"col-5 mt-auto mb-auto p-2"},[a("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.enableDisplay,expression:"enableDisplay"}],staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Display: "+t.listParams.perPage,variant:"outline-secondary"}},[a("b-dropdown-item",{attrs:{active:10===t.listParams.perPage},on:{click:function(e){e.stopPropagation(),10!==t.listParams.perPage&&t.onChangePerPage(10)}}},[t._v("10")]),a("b-dropdown-item",{attrs:{active:20===t.listParams.perPage},on:{click:function(e){e.stopPropagation(),20!==t.listParams.perPage&&t.onChangePerPage(20)}}},[t._v("20")])],1),a("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.isAuthor&&t.enableVisibility,expression:"isAuthor && enableVisibility"}],staticClass:"m-md-2",attrs:{id:"dropdown-1",text:t.listParams.visibility,variant:"outline-secondary"}},[a("b-dropdown-item",{attrs:{active:"all"===t.listParams.visibility},on:{click:function(e){e.stopPropagation(),"all"!==t.listParams.visibility&&t.onChangeVisibility("all")}}},[t._v("all")]),a("b-dropdown-item",{attrs:{active:"public"===t.listParams.visibility},on:{click:function(e){e.stopPropagation(),"public"!==t.listParams.visibility&&t.onChangeVisibility("public")}}},[t._v("public")]),a("b-dropdown-item",{attrs:{active:"private"===t.listParams.visibility},on:{click:function(e){e.stopPropagation(),"private"!==t.listParams.visibility&&t.onChangeVisibility("private")}}},[t._v("private")])],1)],1)])])},Ct=[],Ot=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"onChangePage",value:function(t){this.resetRecipeList(this.$props.username,t,this.listParams.perPage,this.listParams.visibility)}},{key:"onChangePerPage",value:function(t){this.resetRecipeList(this.$props.username,1,t,this.listParams.visibility)}},{key:"onChangeVisibility",value:function(t){this.resetRecipeList(this.$props.username,1,this.listParams.perPage,t)}},{key:"resetRecipeList",value:function(t,e,a,s){this.$store.dispatch(H.GET_USER_RECIPE_LIST,{username:t,page:e,perPage:a,visibility:s})}},{key:"beforeMount",value:function(){}},{key:"isAuthor",get:function(){try{return this.$props.username===this.$store.state.userStore.profile.username}catch(t){return!1}}},{key:"listParams",get:function(){return this.$store.state.userStore.listParams}},{key:"pagination",get:function(){try{return this.$store.state.recipeStore.pagination}catch(t){return{links:{}}}}}]),e}(at["b"]);Ot=Object(et["a"])([Object(at["a"])({props:{enableResult:{type:Boolean,default:!0},enablePagination:{type:Boolean,default:!0},enableDisplay:{type:Boolean,default:!0},enableVisibility:{type:Boolean,default:!0},username:String}})],Ot);var yt=Ot,jt=yt,Pt=Object(ct["a"])(jt,Et,Ct,!1,null,null,null),It=Pt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"},[a("div",{staticClass:"col p-4 d-flex flex-column position-static"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"mb-2"},[t._v(t._s(t.recipeItem.name))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isAuthor()&&t.isOwnPage(),expression:"isAuthor() && isOwnPage()"}],staticClass:"col-2 badge"},[t.recipeItem.is_publish?t._e():a("span",{staticClass:"badge badge-danger"},[t._v("close")]),t.recipeItem.is_publish?a("span",{staticClass:"badge badge-success"},[t._v("open")]):t._e()])]),a("div",{staticClass:"row mb-auto mt-3"},[a("div",{staticClass:"col-10"},[a("p",{staticClass:"card-text"},[t._v(t._s(t.recipeItem.description)+" ")]),a("p",{},[t._v("... "),a("router-link",{staticClass:"stretched-link",attrs:{to:{name:"recipe-detail",params:{recipeId:t.recipeItem.id}}}},[t._v("See more")])],1)])]),a("div",{staticClass:"mb-0 text-muted"},[t._v("Cooking in "),a("strong",[t._v(t._s(t.recipeItem.cook_time))]),t._v(" min(s) and offer "),a("strong",[t._v(t._s(t.recipeItem.num_of_servings))]),t._v(" people.")])]),a("div",{staticClass:"col-4 d-none d-lg-block"},[a("img",{staticStyle:{overflow:"hidden",width:"100%",height:"100%","background-position":"center center","background-repeat":"no-repeat","background-size":"cover"},style:{"background-image":"url("+t.recipeItem.cover_url+")"}})])])])},Rt=[],St=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"isAuthor",value:function(){try{return this.$store.state.userStore.profile.username===this.$props.recipeItem.author.username}catch(t){return!1}}},{key:"isOwnPage",value:function(){return"my-recipes"===this.$route.name}},{key:"beforeMount",value:function(){}}]),e}(at["b"]);St=Object(et["a"])([Object(at["a"])({props:{recipeItem:Object}})],St);var Tt=St,kt=Tt,At=Object(ct["a"])(kt,wt,Rt,!1,null,null,null),Lt=At.exports,Ut=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.page=1,t.perPage=10,t.visibility="all",t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"beforeMount",value:function(){this.$store.state.isLogin&&this.username||this.$router.push({name:"login"}),this.$store.dispatch(H.GET_USER_RECIPE_LIST,{username:this.username,page:this.page,perPage:this.perPage,visibility:this.visibility})}},{key:"username",get:function(){try{return this.$store.state.userStore.profile.username}catch(t){return""}}},{key:"recipes",get:function(){try{return this.$store.state.recipeStore.recipeList}catch(t){return[]}}}]),e}(at["b"]);Ut=Object(et["a"])([Object(at["a"])({components:{RecipeItemComponent:Lt,AuthorFilterComponent:It}})],Ut);var Nt=Ut,xt=Nt,Dt=Object(ct["a"])(xt,gt,_t,!1,null,null,null),$t=Dt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-6"},["create"===t.mode?a("h4",{staticClass:"py-3 text-center"},[t._v("Create recipe")]):t._e(),"edit"===t.mode?a("h4",{staticClass:"py-3 text-center"},[t._v("Edit recipe")]):t._e(),a("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[a("div",{staticClass:"row py-3"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.name,expression:"inputItem.name"}],staticClass:"form-control",class:{"is-invalid":!t.nameValidated},attrs:{type:"text",id:"name"},domProps:{value:t.inputItem.name},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"name",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.nameValidated,expression:"!nameValidated"}],staticClass:"invalid-feedback"},[t._v("\n            Please enter name.\n          ")])])]),a("div",{staticClass:"row py-3"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.description,expression:"inputItem.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:""},domProps:{value:t.inputItem.description},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"description",e.target.value)}}})])]),a("div",{staticClass:"row py-3"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:"num_of_servings"}},[t._v("Number of servings")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.num_of_servings,expression:"inputItem.num_of_servings"}],staticClass:"form-control",class:{"is-invalid":!t.numOfServingsValidated},attrs:{type:"text",id:"num_of_servings",placeholder:""},domProps:{value:t.inputItem.num_of_servings},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"num_of_servings",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.numOfServingsValidated,expression:"!numOfServingsValidated"}],staticClass:"invalid-feedback"},[t._v("\n            Please enter number of servings.\n          ")])]),a("div",{staticClass:"col"},[a("label",{attrs:{for:"cook_time"}},[t._v("Cook time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.cook_time,expression:"inputItem.cook_time"}],staticClass:"form-control",class:{"is-invalid":!t.cookTimeValidated},attrs:{type:"text",id:"cook_time",placeholder:""},domProps:{value:t.inputItem.cook_time},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"cook_time",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.cookTimeValidated,expression:"!cookTimeValidated"}],staticClass:"invalid-feedback"},[t._v("\n            Please enter cook_time.\n          ")])])]),a("div",{staticClass:"row py-3"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:"directions"}},[t._v("Directions")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.directions,expression:"inputItem.directions"}],staticClass:"form-control",attrs:{type:"text",id:"directions",placeholder:""},domProps:{value:t.inputItem.directions},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"directions",e.target.value)}}})])]),a("hr",{staticClass:"mb-4 col "}),a("div",{staticClass:"row py-3"},[a("div",{staticClass:"col"},[a("label",{attrs:{for:"cover"}},[t._v("Cover image")]),a("div",{staticClass:"image-container"},[a("img",{directives:[{name:"show",rawName:"v-show",value:!t.isUpload,expression:"!isUpload"}],staticClass:"img-fluid",attrs:{src:t.originImage}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isUpload,expression:"isUpload"}],staticClass:"img-fluid",attrs:{src:t.newImage}}),a("div",{staticClass:"centered"},[t._v("Preview")])]),a("div",{staticClass:"custom-file mt-2"},[a("input",{staticClass:"custom-file-input",class:{"is-invalid":!t.imageValidated,"is-valid":t.isUpload&&t.imageValidated},attrs:{type:"file",id:"validatedCustomFile"},on:{change:function(e){return t.onImageChange(e)}}}),a("label",{staticClass:"custom-file-label",attrs:{for:"validatedCustomFile"}},[t._v(t._s(t.imageName))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.imageValidated,expression:"!imageValidated"}],staticClass:"invalid-feedback"},[t._v("\n              Please choose valid image.\n            ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isUpload&&t.imageValidated,expression:"isUpload && imageValidated"}],staticClass:"valid-feedback"},[t._v("\n              Looks good!\n            ")])])])]),a("hr",{staticClass:"mb-4 col"}),a("div",{staticClass:"row pb-5 justify-content-center"},[a("div",{staticClass:"col-8"},[a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.checkForm()}}},[t._v("submit")])])])])])])},Gt=[];function Bt(){switch("production"){case"production":return Object({NODE_ENV:"production",BASE_URL:"/"}).HOST;default:return"http://localhost:5000/"}}var Mt=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.inputItem={},t.nameValidated=!0,t.numOfServingsValidated=!0,t.cookTimeValidated=!0,t.imageValidated=!0,t.isUpload=!1,t.originImage=t.$store.state.recipeStore.recipeDetail.cover_url||Bt()+"static/images/assets/default-recipe-cover.jpg",t.newImage="",t.imageName="Choose file...",t.imageFile={},t.mode="create",t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"checkForm",value:function(){this.nameValidated=!!this.inputItem.name,this.numOfServingsValidated=!!this.inputItem.num_of_servings&&it(this.inputItem.num_of_servings),this.cookTimeValidated=!!this.inputItem.cook_time&&it(this.inputItem.cook_time),this.nameValidated&&this.numOfServingsValidated&&this.cookTimeValidated&&this.submitRecipe()}},{key:"onImageChange",value:function(t){var e=t.target.files||null;null!==e&&e.length&&this.loadImage(e[0])}},{key:"isValidFileExtension",value:function(t){var e=["image/jpeg","image/png","image/gif","image/svg+xml","image/bmp"];return e.some((function(e){return e===t.type}))}},{key:"loadImage",value:function(t){var e=this,a=new FileReader;this.isValidFileExtension(t)?(a.onload=function(a){e.newImage=a.target.result,e.imageName=t.name},a.readAsDataURL(t),this.isUpload=!0,this.imageFile=t):(this.isUpload=!1,this.imageValidated=!1,this.imageFile={})}},{key:"submitCover",value:function(t){var e=this;this.isUpload&&t?this.$store.dispatch(H.UPLOAD_COVER,{recipeId:t,file:this.imageFile}).then((function(t){t?e.$store.dispatch(H.OPEN_ALERT,{alert:{show:!0,message:"Create success!!",style:"alert-success"}}):e.$store.dispatch(H.OPEN_ALERT,{alert:{show:!0,message:"Upload image failure, please try again",style:"alert-warning"}})})):t&&this.$store.dispatch(H.OPEN_ALERT,{alert:{show:!0,message:"Create success!!",style:"alert-success"}})}},{key:"submitRecipe",value:function(){var t=this,e={id:this.inputItem.id||null,name:this.inputItem.name,description:this.inputItem.description||"",num_of_servings:this.inputItem.num_of_servings||1,cook_time:this.inputItem.cook_time||1,directions:this.inputItem.directions||""};"create"===this.mode?this.$store.dispatch(H.CREATE_RECIPE,{recipe:e}).then((function(e){t.submitCover(e),t.$router.push({name:"my-recipes"})})):this.$store.dispatch(H.UPDATE_RECIPE,{recipe:e}).then((function(){e.id&&(t.submitCover(e.id),t.$router.push({name:"recipe-detail",params:{recipeId:e.id}}))}))}},{key:"fetchRecipe",value:function(){var t=this;String(this.$store.state.recipeStore.recipeDetail.id)!==this.recipeId&&this.$store.dispatch(H.GET_RECIPE,{recipeId:this.recipeId}).then((function(e){t.inputItem=t.$store.state.recipeStore.recipeDetail}))}},{key:"routeChange",value:function(t,e){"create-recipe"===t.name&&(this.mode="create",this.inputItem={},this.nameValidated=!0,this.numOfServingsValidated=!0,this.cookTimeValidated=!0,this.imageValidated=!0,this.isUpload=!1,this.originImage=Bt()+"static/images/assets/default-recipe-cover.jpg")}},{key:"beforeMount",value:function(){"edit-recipe"===this.$route.name&&(this.mode="edit",this.fetchRecipe())}},{key:"recipeId",get:function(){try{return this.$route.params["recipeId"]}catch(t){return null}}}]),e}(at["b"]);Object(et["a"])([Object(at["c"])("$route")],Mt.prototype,"routeChange",null),Mt=Object(et["a"])([at["a"]],Mt);var Ht=Mt,qt=Ht,Ft=(a("a6dd"),Object(ct["a"])(qt,Vt,Gt,!1,null,null,null)),zt=Ft.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("div",{},[a("h1",{staticClass:"text-dark"},[t._v("500 Internal Server Error")]),t._m(0),a("div",{staticClass:"py-5 my-5"},[a("router-link",{staticClass:"btn btn-primary glyphicon glyphicon-home",attrs:{to:{name:"home"}}},[t._v("Take Me Home")])],1)])])])},Qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-5 my-5"},[a("strong",[t._v("Sorry, something just isn't right!")])])}],Yt=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),e}(at["b"]);Yt=Object(et["a"])([at["a"]],Yt);var Zt=Yt,Jt=Zt,Wt=Object(ct["a"])(Jt,Kt,Qt,!1,null,null,null),Xt=Wt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("div",{},[a("h1",{staticClass:"text-dark"},[t._v("Oops! 404 Not Found")]),t._m(0),a("div",{staticClass:"py-5 my-5"},[a("router-link",{staticClass:"btn btn-primary glyphicon glyphicon-home",attrs:{to:{name:"home"}}},[t._v("Take Me Home")])],1)])])])},ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-5 my-5"},[a("strong",[t._v("Sorry, the page you are looking for was not found!")])])}],ae=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),e}(at["b"]);ae=Object(et["a"])([at["a"]],ae);var se=ae,ie=se,ne=Object(ct["a"])(ie,te,ee,!1,null,null,null),re=ne.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-2"},[t._m(0),a("AuthorComponent",{attrs:{username:t.username}}),t._m(1),a("AuthorFilterComponent",{attrs:{username:t.username}}),t._l(t.recipes,(function(t){return a("RecipeItemComponent",{key:t.id,attrs:{recipeItem:t}})})),a("AuthorFilterComponent",{attrs:{username:t.username,enableResult:!1,enableDisplay:!1,enableVisibility:!1}})],2)},ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12 pb-3 pl-3 pr-3"},[a("h2",[t._v("Author")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12 pt-5"},[a("h2",[t._v("His creation")])])}],le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"media"},[a("img",{staticClass:"mr-5",staticStyle:{overflow:"hidden",width:"120px",height:"120px","background-position":"center center","background-repeat":"no-repeat","background-size":"cover"},style:{"background-image":t.backgroundImage}}),a("div",{staticClass:"media-body"},[a("h3",{staticClass:"mt-0"},[t._v(t._s(t.author.username))]),a("p",{staticClass:"text-muted"},[t._v("join smile cook on "+t._s(t._f("formatDate")(t.author.created_at))+".")])])])])},ue=[],pe=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"beforeMount",value:function(){this.$store.dispatch(H.GET_AUTHOR,{username:this.$props.username})}},{key:"author",get:function(){try{return this.$store.state.userStore.author}catch(t){return{}}}},{key:"backgroundImage",get:function(){return this.author.avatar_url?"url('"+this.author.avatar_url+"')":""}}]),e}(at["b"]);pe=Object(et["a"])([Object(at["a"])({props:{username:String}})],pe);var de=pe,me=de,he=Object(ct["a"])(me,le,ue,!1,null,null,null),ve=he.exports,fe=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"beforeMount",value:function(){this.$store.dispatch(H.GET_USER_RECIPE_LIST,{username:this.username,page:1,perPage:10,visibility:"public"})}},{key:"recipes",get:function(){try{return this.$store.state.recipeStore.recipeList}catch(t){return[]}}},{key:"username",get:function(){return this.$route.params["username"]}}]),e}(at["b"]);fe=Object(et["a"])([Object(at["a"])({components:{AuthorComponent:ve,RecipeItemComponent:Lt,AuthorFilterComponent:It}})],fe);var be=fe,ge=be,_e=Object(ct["a"])(ge,oe,ce,!1,null,null,null),Ee=_e.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10 blog-main"},[a("div",{staticClass:"row pt-3 pb-3"},[a("div",{staticClass:"col"},[a("h1",{staticClass:"blog-post-title"},[t._v(t._s(t.recipe.name))])]),a("OperatorComponent",{attrs:{recipe:t.recipe}}),a("div",{staticClass:"col-1 my-auto"},[a("a",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return e.stopPropagation(),t.$router.go(-1)}}},[t._v("back")])])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("img",{attrs:{width:"100%",src:t.recipe.cover_url}})]),a("div",{staticClass:"col text-right my-auto"},[a("p",{staticClass:"text-info"},[t._v("serving: "+t._s(t.recipe.num_of_servings)+" people")]),a("p",{staticClass:"text-info"},[t._v("cooking time: "+t._s(t.recipe.cook_time)+" min(s)")]),a("p",{staticClass:"blog-post-meta"},[t._v("\n            last update on "+t._s(t._f("formatDate")(t.recipe.updated_at))+" by \n            "),a("router-link",{attrs:{to:{name:"author",params:{username:t.recipe.author.username}}}},[t._v(t._s(t.recipe.author.username))])],1)])]),a("hr"),a("h4",[t._v("Description")]),t.recipe.description?a("p",[t._v(t._s(t.recipe.description)+" ")]):a("p",{staticClass:"text-muted"},[t._v("wait author to write something...")]),a("hr"),a("h4",[t._v("Let do it")]),t.recipe.directions?a("p",[t._v(t._s(t.recipe.directions))]):a("p",{staticClass:"text-muted"},[t._v("wait author to write something...")])])])},Oe=[],ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.hasLogin,expression:"hasLogin"}],staticClass:"btn-group col-auto mt-auto mb-auto",attrs:{role:"group","aria-label":"Basic example"}},[t.recipe.is_publish?t._e():a("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return e.stopPropagation(),t.showPublishDialog()}}},[t._v("Publish")]),t.recipe.is_publish?a("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return e.stopPropagation(),t.showUnpublishDialog()}}},[t._v("Unpublish")]):t._e(),a("router-link",{staticClass:"btn btn-outline-warning",attrs:{to:{name:"edit-recipe",params:{recipeId:t.recipe.id}}}},[t._v("Edit")]),a("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return e.stopPropagation(),t.showDeleteDialog()}}},[t._v("Delete")])],1)},je=[],Pe=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"showPublishDialog",value:function(){this.$store.dispatch(H.OPEN_DIALOG,{dialog:{show:!0,title:"Confirm publish",msg:"Are you sure to change recipe status for publish?",hasConfirmButton:!0,hasCancelButton:!0,callback:this.publishRecipe}})}},{key:"showUnpublishDialog",value:function(){this.$store.dispatch(H.OPEN_DIALOG,{dialog:{show:!0,title:"Confirm unpublish",msg:"Are you sure to change recipe status for unpublish?",hasConfirmButton:!0,hasCancelButton:!0,callback:this.unpublishRecipe}}).then((function(){}))}},{key:"showDeleteDialog",value:function(){this.$store.dispatch(H.OPEN_DIALOG,{dialog:{show:!0,title:"Confrim delete",msg:"Are you sure to delete?",hasConfirmButton:!0,hasCancelButton:!0,callback:this.deleteRecipe}})}},{key:"publishRecipe",value:function(){var t=this;this.$store.dispatch(H.PUBLISH_RECIPE,{recipeId:this.recipeId}).then((function(){t.$store.dispatch(H.CLOSE_DIALOG)}))}},{key:"unpublishRecipe",value:function(){var t=this;this.$store.dispatch(H.UNPUBLISH_RECIPE,{recipeId:this.recipeId}).then((function(){t.$store.dispatch(H.CLOSE_DIALOG)}))}},{key:"deleteRecipe",value:function(){var t=this;this.$store.dispatch(H.DELETE_RECIPE,{recipeId:this.recipeId}).then((function(){t.$store.dispatch(H.CLOSE_DIALOG)}))}},{key:"beforeMount",value:function(){}},{key:"user",get:function(){try{if(this.hasLogin)return this.$store.state.user;throw Error}catch(t){return{}}}},{key:"hasLogin",get:function(){return this.$store.state.isLogin}},{key:"recipeId",get:function(){return this.$props.recipe.id}}]),e}(at["b"]);Pe=Object(et["a"])([Object(at["a"])({props:{recipe:Object}})],Pe);var Ie=Pe,we=Ie,Re=Object(ct["a"])(we,ye,je,!1,null,null,null),Se=Re.exports,Te=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"fetchRecipe",value:function(){this.$store.dispatch(H.GET_RECIPE,{recipeId:this.recipeId}).then((function(){}))}},{key:"beforeMount",value:function(){this.fetchRecipe()}},{key:"recipe",get:function(){try{return this.$store.state.recipeStore.recipeDetail}catch(t){return{author:{}}}}},{key:"recipeId",get:function(){return this.$route.params["recipeId"]}}]),e}(at["b"]);Te=Object(et["a"])([Object(at["a"])({components:{OperatorComponent:Se}})],Te);var ke=Te,Ae=ke,Le=Object(ct["a"])(Ae,Ce,Oe,!1,null,null,null),Ue=Le.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-2"},[a("FilterComponent"),t._l(t.recipes,(function(t){return a("RecipeItemComponent",{key:t.id,attrs:{recipeItem:t}})})),a("FilterComponent",{attrs:{enableResult:!1,enableDisplay:!1,enableOrderBy:!1,enableSearch:!1}})],2)},xe=[],De=(a("55dd"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.enableResult,expression:"enableResult"}],staticClass:"row pl-4 pr-4"},[""!==t.listParams.q?a("p",{staticClass:"text-secondary"},[t._v("About "),a("strong",[t._v(t._s(t.pagination.total))]),t._v(" results for "),a("strong",[t._v(t._s(t.listParams.q))]),t._v(".")]):a("p",{staticClass:"text-secondary"},[t._v("The total of "+t._s(t.pagination.total)+" recipes.")])]),a("div",{staticClass:"row mb-auto mt-auto"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.enablePagination,expression:"enablePagination"}],staticClass:"col-4 ml-0"},[a("nav",[a("ul",{staticClass:"pagination mt-3"},[a("li",{staticClass:"page-item",class:{disabled:!t.pagination.links.prev}},[a("button",{staticClass:"page-link",on:{click:function(e){return e.stopPropagation(),t.onChangePage(t.pagination.page-1)}}},[t._v("Previous")])]),t._l(t.pagination.pages,(function(e){return a("li",{staticClass:"page-item",class:{active:e===t.pagination.page}},[e!==t.pagination.page&&(e>t.pagination.page-2&&e<t.pagination.page+2||e===t.pagination.page+2&&1===t.pagination.page||e===t.pagination.page-2&&t.pagination.page===t.pagination.pages)?a("button",{staticClass:"page-link",on:{click:function(a){return a.stopPropagation(),t.onChangePage(e)}}},[t._v(t._s(e))]):t._e(),e===t.pagination.page?a("button",{staticClass:"page-link"},[t._v(t._s(e))]):t._e()])})),a("li",{staticClass:"page-item",class:{disabled:!t.pagination.links.next}},[a("button",{staticClass:"page-link",on:{click:function(e){return e.stopPropagation(),t.onChangePage(t.pagination.page+1)}}},[t._v("Next")])])],2)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.enableOrderBy||t.enableDisplay,expression:"enableOrderBy || enableDisplay"}],staticClass:"col-5 mt-auto mb-auto p-2"},[a("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.enableDisplay,expression:"enableDisplay"}],staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Display: "+t.listParams.perPage,variant:"outline-secondary"}},[a("b-dropdown-item",{attrs:{active:10===t.listParams.perPage},on:{click:function(e){e.stopPropagation(),10!==t.listParams.perPage&&t.onChangePerPage(10)}}},[t._v("10")]),a("b-dropdown-item",{attrs:{active:20===t.listParams.perPage},on:{click:function(e){e.stopPropagation(),20!==t.listParams.perPage&&t.onChangePerPage(20)}}},[t._v("20")])],1),a("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.enableOrderBy,expression:"enableOrderBy"}],staticClass:"m-md-2 col-7",attrs:{id:"dropdown-2",text:t.orderByObj.str,variant:"outline-secondary"}},t._l(t.orderByStrList,(function(e){return a("b-dropdown-item",{attrs:{active:e.sort===t.listParams.sort&&e.order===t.listParams.order},on:{click:function(a){a.stopPropagation(),(t.listParams.sort!==e.sort||t.listParams.order!==e.order)&&t.onChangeOrderBy(e.sort,e.order)}}},[t._v(t._s(e.str))])})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.enableSearch,expression:"enableSearch"}],staticClass:"col-3 input-group p-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputItem.q,expression:"inputItem.q"}],staticClass:"form-control mb-auto mt-auto",attrs:{type:"text",placeholder:"","aria-label":"hamburger","aria-describedby":"button-addon2",id:"inputQ"},domProps:{value:t.inputItem.q},on:{input:function(e){e.target.composing||t.$set(t.inputItem,"q",e.target.value)}}}),a("div",{staticClass:"input-group-append mb-auto mt-auto mr-3"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return e.stopPropagation(),t.search()}}},[t._v("search")])])])])])}),$e=[],Ve=(a("7514"),function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.inputItem={q:""},t.orderByStrList=[{sort:"created_at",order:"desc",str:"Newest First"},{sort:"cook_time",order:"asc",str:"Cook Time: Low to High"},{sort:"cook_time",order:"desc",str:"Cook Time: High to Low"},{sort:"num_of_servings",order:"asc",str:"Servings: Low to High"},{sort:"num_of_servings",order:"desc",str:"Servings: High to Low"}],t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"onChangePage",value:function(t){this.resetRecipeList(this.inputItem.q,t,this.listParams.perPage,this.listParams.sort,this.listParams.order)}},{key:"onChangePerPage",value:function(t){this.resetRecipeList(this.inputItem.q,1,t,this.listParams.sort,this.listParams.order)}},{key:"onChangeOrderBy",value:function(t,e){this.resetRecipeList(this.inputItem.q,1,this.listParams.perPage,t,e)}},{key:"search",value:function(){""!==this.inputItem.q&&this.resetRecipeList(this.inputItem.q,1,this.listParams.perPage,this.listParams.sort,this.listParams.order)}},{key:"resetRecipeList",value:function(t,e,a,s,i){this.$store.dispatch(H.GET_RECIPE_LIST,{q:t||"",page:e,perPage:a,sort:s,order:i,visibility:"public"})}},{key:"beforeMount",value:function(){}},{key:"listParams",get:function(){return this.$store.state.recipeStore.listParams}},{key:"orderByObj",get:function(){var t=this.listParams.sort||"created_at",e=this.listParams.order||"desc";return this.orderByStrList.find((function(a){return a.sort===t&&a.order===e}))||this.orderByStrList[0]}},{key:"pagination",get:function(){try{return this.$store.state.recipeStore.pagination}catch(t){return{links:{}}}}}]),e}(at["b"]));Ve=Object(et["a"])([Object(at["a"])({props:{enableResult:{type:Boolean,default:!0},enablePagination:{type:Boolean,default:!0},enableDisplay:{type:Boolean,default:!0},enableOrderBy:{type:Boolean,default:!0},enableSearch:{type:Boolean,default:!0}}})],Ve);var Ge=Ve,Be=Ge,Me=Object(ct["a"])(Be,De,$e,!1,null,null,null),He=Me.exports,qe=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.page=1,t.perPage=10,t.sort="created_at",t.order="desc",t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"beforeMount",value:function(){this.$store.dispatch(H.GET_RECIPE_LIST,{q:"",page:this.page,perPage:this.perPage,sort:this.sort,order:this.order})}},{key:"recipes",get:function(){try{return this.$store.state.recipeStore.recipeList}catch(t){return[]}}}]),e}(at["b"]);qe=Object(et["a"])([Object(at["a"])({components:{RecipeItemComponent:Lt,FilterComponent:He}})],qe);var Fe=qe,ze=Fe,Ke=Object(ct["a"])(ze,Ne,xe,!1,null,null,null),Qe=Ke.exports,Ye=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ze=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("h1",[t._v("Welcome to Smile Cook Demo Site !!!")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-8"},[a("h3",[t._v("Client")]),a("p",[t._v("You can test API here with web side")])]),a("div",{staticClass:"col"})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-8"},[a("h3",[t._v("All route")]),a("ul",[a("li",[t._v("/users")]),a("li",[t._v("/users/{username}")]),a("li",[t._v("/users/avatar")]),a("li",[t._v("/users/{username}/recipes")]),a("li",[t._v("/token")]),a("li",[t._v("/refresh")]),a("li",[t._v("/revoke")]),a("li",[t._v("/recipes")]),a("li",[t._v("/recipes/{recipe_id}")]),a("li",[t._v("/recipes/{recipe_id}/publish")])])]),a("div",{staticClass:"col"})])])}],Je=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),e}(at["b"]);Je=Object(et["a"])([at["a"]],Je);var We=Je,Xe=We,ta=(a("06e8"),Object(ct["a"])(Xe,Ye,Ze,!1,null,"cea34bbc",null)),ea=ta.exports;r["a"].use(Q["a"]);var aa=new Q["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:ea},{path:"/recipes",name:"recipe-list",component:Qe},{path:"/create-recipe",name:"create-recipe",component:zt,meta:{requiresAuth:!0}},{path:"/edit-recipe/:recipeId",name:"edit-recipe",component:zt,meta:{requiresAuth:!0}},{path:"/recipes/:recipeId",name:"recipe-detail",component:Ue},{path:"/register",name:"register",component:bt},{path:"/login",name:"login",component:ut},{path:"/my-recipes",name:"my-recipes",component:$t,meta:{requiresAuth:!0}},{path:"/author/:username",name:"author",component:Ee},{path:"*",name:"not-found",component:re},{path:"*",name:"internal-server-error",component:Xt}]});aa.beforeEach((function(t,e,a){fa.dispatch(H.CURRENT_ROUTE,{routeMap:{to:t,from:e}}),fa.state.isLogin||F(),t.matched.some((function(t){return t.meta.requiresAuth}))?fa.state.isLogin?a():a({path:"/login",query:{redirect:t.fullPath}}):a()}));var sa,ia,na,ra,oa=function(t){if("boolean"===typeof t)aa.replace({name:"internal-server-error"});else switch(t.status){case K.a.BAD_REQUEST:if(void 0!==t.data.message){ba.dispatch(H.OPEN_ALERT,{alert:{show:!0,message:t.data.message,style:"alert-warning"}});break}t.status=K.a.INTERNAL_SERVER_ERROR;case K.a.UNAUTHORIZED:if("login"===ba.state.routeMap.to&&t.data.message)ba.dispatch(H.OPEN_ALERT,{alert:{show:!0,message:t.data.message,style:"alert-danger"}});else try{aa.history.current.meta.requiresAuth||t.data&&"Token has expired"===t.data.message?(ba.dispatch(H.OPEN_ALERT,{alert:{show:!0,message:"Your session has been expired, require login again.",style:"alert-danger"}}),ba.dispatch(H.DEREGISTER_USER).then((function(){aa.push({name:"login"})}))):ba.dispatch(H.DEREGISTER_USER).then((function(){aa.go(aa.history.current.path)}))}catch(e){aa.replace({name:"not-found"})}break;case K.a.FORBIDDEN:aa.replace({name:"not-found"});break;case K.a.NOT_FOUND:aa.replace({name:"not-found"});break;case K.a.UNPROCESSABLE_ENTITY:aa.replace("/");break;case K.a.TOO_MANY_REQUESTS:break;case K.a.INTERNAL_SERVER_ERROR:aa.replace({name:"internal-server-error"});break;default:aa.replace("/");break}return!1},ca={state:{listParams:{q:"",page:1,perPage:10,sort:"created_at",order:"desc"},pagination:{links:{}},recipeList:[],recipeDetail:{author:{}}},actions:(sa={},Object(l["a"])(sa,H.GET_RECIPE_LIST,(function(t,e){var a=t.commit,s=e.q,i=e.page,n=e.perPage,r=e.sort,o=e.order;return L(s,i,n,r,o).then((function(t){a(q.SET_RECIPE_LIST,{resp:t}),a(q.SET_PAGINATION,{resp:t}),a(q.SET_RECIPE_LIST_PARAMS,{q:s,page:i,perPage:n,sort:r,order:o})}),oa)})),Object(l["a"])(sa,H.GET_RECIPE,(function(t,e){var a=t.commit,s=e.recipeId;return G(s).then((function(t){a(q.SET_RECIPE_DETAIL,{resp:t})}),oa)})),Object(l["a"])(sa,H.CREATE_RECIPE,(function(t,e){var a=t.commit,s=e.recipe;return U(s).then((function(t){return a(q.SET_RECIPE_DETAIL,{resp:t}),t.id}),oa)})),Object(l["a"])(sa,H.UPDATE_RECIPE,(function(t,e){var a=t.commit,s=e.recipe;return N(s).then((function(t){a(q.SET_RECIPE_DETAIL,{resp:t})}),oa)})),Object(l["a"])(sa,H.DELETE_RECIPE,(function(t,e){var a=t.commit,s=e.recipeId;return x(s).then((function(t){a(q.SET_RECIPE_DETAIL,{})}),oa)})),Object(l["a"])(sa,H.PUBLISH_RECIPE,(function(t,e){var a=t.commit,s=e.recipeId;return D(s).then((function(t){a(q.SET_RECIPE_PUBLISH_STATUS,!0)}),oa)})),Object(l["a"])(sa,H.UNPUBLISH_RECIPE,(function(t,e){var a=t.commit,s=e.recipeId;return $(s).then((function(t){a(q.SET_RECIPE_PUBLISH_STATUS,!1)}),oa)})),Object(l["a"])(sa,H.UPLOAD_COVER,(function(t,e){var a=t.commit,s=e.recipeId,i=e.file;return V(s,i).then((function(t){return!!t&&(a(q.SET_RECIPE_COVER,{resp:t}),!0)}),oa)})),sa),mutations:(ia={},Object(l["a"])(ia,q.SET_RECIPE_LIST,(function(t,e){var a=e.resp;t.recipeList=a.data})),Object(l["a"])(ia,q.SET_PAGINATION,(function(t,e){var a=e.resp;t.pagination=a})),Object(l["a"])(ia,q.SET_RECIPE_LIST_PARAMS,(function(t,e){var a=e.q,s=e.page,i=e.perPage,n=e.sort,r=e.order;t.listParams={q:a,page:s,perPage:i,sort:n,order:r}})),Object(l["a"])(ia,q.SET_RECIPE_DETAIL,(function(t,e){var a=e.resp;t.recipeDetail=a})),Object(l["a"])(ia,q.SET_RECIPE_PUBLISH_STATUS,(function(t,e){t.recipeDetail.is_publish=e})),Object(l["a"])(ia,q.SET_RECIPE_COVER,(function(t,e){var a=e.resp;t.recipeDetail.cover_url=a.cover_url})),ia)},la=ca;function ua(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function pa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ua(a,!0).forEach((function(e){Object(l["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ua(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var da,ma,ha={state:{profile:{},author:{},listParams:{page:1,perPage:10,visibility:"all"}},actions:(na={},Object(l["a"])(na,H.REGISTER,(function(t,e){var a=t.commit,s=(t.dispatch,t.state,e.profile);return w(s).then((function(t){return a(q.SET_ALERT,{alert:{show:!0,message:"register success! please check your email for active account",style:"alert-success"}}),!0}),oa)})),Object(l["a"])(na,H.GET_USER,(function(t,e){var a=t.commit,s=(t.dispatch,t.state,e.username);return a(q.REQUEST_USER),S(s).then((function(t){a(q.SET_USER,{resp:t}),a(q.SET_LOGIN_STATUS,!0)})).catch((function(t){a(q.REQUEST_USER_ERROR),a(q.SET_LOGIN_STATUS,!1)}))})),Object(l["a"])(na,H.GET_AUTHOR,(function(t,e){var a=t.commit,s=e.username;return S(s).then((function(t){a(q.SET_AUTHOR,{resp:t})}),oa)})),Object(l["a"])(na,H.GET_USER_RECIPE_LIST,(function(t,e){var a=t.commit,s=e.username,i=e.page,n=e.perPage,r=e.visibility;return k(s,i,n,r).then((function(t){a(q.SET_RECIPE_LIST,{resp:t}),a(q.SET_PAGINATION,{resp:t}),a(q.SET_AUTHOR_RECIPE_LIST_PARAMS,{page:i,perPage:n,visibility:r})}),oa)})),Object(l["a"])(na,H.UPLOAD_AVATAR,(function(t,e){var a=t.commit,s=e.file;return T(s).then((function(t){a(q.SET_AVATAR,{resp:t})}),oa)})),na),mutations:(ra={},Object(l["a"])(ra,q.REQUEST_USER,(function(t){t.loginStatus="request"})),Object(l["a"])(ra,q.SET_USER,(function(t,e){var a=e.resp;t.loginStatus="login",t.profile=pa({},a)})),Object(l["a"])(ra,q.REQUEST_USER_ERROR,(function(t){t.loginStatus="error",t.profile={}})),Object(l["a"])(ra,q.CLEAR_USER,(function(t){t.loginStatus="logout",t.profile={}})),Object(l["a"])(ra,q.SET_AUTHOR,(function(t,e){var a=e.resp;t.author=pa({},a)})),Object(l["a"])(ra,q.SET_AUTHOR_RECIPE_LIST_PARAMS,(function(t,e){var a=e.page,s=e.perPage,i=e.visibility;t.listParams={page:a,perPage:s,visibility:i}})),Object(l["a"])(ra,q.SET_AVATAR,(function(t,e){var a=e.resp;t.profile.avatar_url=a.avatar_url||""})),ra)},va=ha;r["a"].use(u["a"]);var fa=new u["a"].Store({state:{isLogin:!1,routeMap:{to:{name:"home",params:{}},from:{name:"home",params:{}}},tokenData:{token:"",status:""},alert:{show:!1,message:"",style:""},dialog:{show:!1,title:"",msg:"",hasConfirmButton:!1,hasCancelButton:!1,callback:function(){}}},getters:{},actions:(da={},Object(l["a"])(da,H.CURRENT_ROUTE,(function(t,e){var a=t.commit,s=(t.dispatch,t.state,e.routeMap);a(q.SET_ROUTE_MAP,{routeMap:s})})),Object(l["a"])(da,H.OPEN_ALERT,(function(t,e){var a=t.commit,s=e.alert;a(q.SET_ALERT,{alert:s})})),Object(l["a"])(da,H.CLOSE_ALERT,(function(t){var e=t.commit;e(q.RESET_ALERT)})),Object(l["a"])(da,H.OPEN_DIALOG,(function(t,e){var a=t.commit,s=e.dialog;a(q.SET_DIALOG,s)})),Object(l["a"])(da,H.CLOSE_DIALOG,(function(t){var e=t.commit;e(q.CLEAR_DIALOG)})),Object(l["a"])(da,H.LOGIN,(function(t,e){var a=t.commit,s=t.dispatch,i=e.account;return new Promise((function(t,e){a(q.REQUEST_TOKEN),R(i).then((function(e){B.setItem("_ACCESS_TOKEN",e.access_token),B.setItem("_REFRESH_TOKEN",e.refresh_token),a(q.SET_TOKEN,{token:e.access_token,status:"access"}),a(q.SET_LOGIN_STATUS,!0),s(H.GET_USER,{username:"me"}),t(e)}),oa)}))})),Object(l["a"])(da,H.LOGOUT,(function(t){var e=t.commit;return new Promise((function(t,a){e(q.CLEAR_USER),e(q.CLEAR_TOKEN),e(q.SET_LOGIN_STATUS,!1),B.removeItem("_ACCESS_TOKEN"),B.removeItem("_REFRESH_TOKEN"),A().then((function(e){t(!0)})).catch((function(t){a(t)}))}))})),Object(l["a"])(da,H.DEREGISTER_USER,(function(t){var e=t.commit;e(q.CLEAR_USER),e(q.CLEAR_TOKEN),e(q.SET_LOGIN_STATUS,!1),B.removeItem("_ACCESS_TOKEN"),B.removeItem("_REFRESH_TOKEN")})),da),mutations:(ma={},Object(l["a"])(ma,q.SET_ROUTE_MAP,(function(t,e){var a=e.routeMap;t.routeMap=a})),Object(l["a"])(ma,q.SET_ALERT,(function(t,e){var a=e.alert;t.alert=a})),Object(l["a"])(ma,q.RESET_ALERT,(function(t){t.alert={show:!1,message:"",style:"alert-light"}})),Object(l["a"])(ma,q.SET_DIALOG,(function(t,e){t.dialog=e})),Object(l["a"])(ma,q.CLEAR_DIALOG,(function(t){t.dialog={show:!1,title:"",msg:"",hasConfirmButton:!1,hasCancelButton:!1,callback:function(){}}})),Object(l["a"])(ma,q.REQUEST_TOKEN,(function(t){t.tokenData.status="request"})),Object(l["a"])(ma,q.SET_TOKEN,(function(t,e){var a=e.token,s=e.status;t.tokenData={token:a,status:s}})),Object(l["a"])(ma,q.REQUEST_TOKEN_ERROR,(function(t){t.tokenData.status="error",t.tokenData.hasRequestOnce=!0})),Object(l["a"])(ma,q.CLEAR_TOKEN,(function(t){t.tokenData={}})),Object(l["a"])(ma,q.SET_LOGIN_STATUS,(function(t,e){t.isLogin=e})),ma),modules:{recipeStore:la,userStore:va}}),ba=fa,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",[t.isLogin&&t.showCollapse?a("div",{staticClass:"collapse bg-dark",class:{show:t.showCollapse},staticStyle:{padding:".5rem 1rem"},attrs:{id:"navbarHeader"}},[a("div",{staticClass:"container"},[a("ProfileComponent")],1)]):t._e(),a("div",{staticClass:"navbar navbar-dark bg-dark shadow-sm"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row",staticStyle:{display:"contents"}},[a("div",{staticClass:"col-md-auto"},[a("router-link",{staticClass:"navbar-brand d-flex align-items-center",attrs:{to:{name:"home"}}},[a("strong",[t._v("Smile Cook")])])],1),a("div",{staticClass:"col pt-1"},[a("router-link",{staticClass:"btn btn-sm btn-outline-light",attrs:{to:{name:"recipe-list"}}},[t._v("Recipes")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"col col-md-4 text-right"},[a("router-link",{staticClass:"ml-2 btn btn-light",attrs:{to:{name:"login"}}},[t._v("Log in")]),a("router-link",{staticClass:"ml-2 btn btn-primary",attrs:{to:{name:"register"}}},[t._v("Sign up")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"col col-md-4 text-right"},[a("router-link",{staticClass:"ml-2 btn btn-primary",attrs:{to:{name:"create-recipe"}}},[t._v("Create recipe")]),a("button",{staticClass:"ml-2 navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarHeader","aria-controls":"navbarHeader","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:function(e){return e.stopPropagation(),t.switchCollapse()}}},[a("span",{staticClass:"navbar-toggler-icon"})])],1)])])])]),a("main",{attrs:{role:"main"}},[a("div",{staticClass:"py-3 bg-light"},[a("div",{staticClass:"container"},[a("AlertComponent"),a("DialogComponent"),a("router-view")],1)])]),t._m(0)])},_a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"text-muted",staticStyle:{"padding-top":"3rem","padding-bottom":"3rem"}},[a("div",{staticClass:"container"},[a("p",{staticClass:"float-right"},[a("a",{attrs:{href:"#"}},[t._v("Back to top")])]),a("p",[t._v("Copyright © 2019 Smile Cook, take a smile and be relax for yourself!")])])])}],Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row fade pb-2",class:{show:t.alert.show}},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"alert",class:t.alert.style,staticStyle:{height:"50px"},attrs:{role:"alert"}},[t._v("\n      "+t._s(t.alert.message)+"\n      "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{"~click":function(e){return t.closeAlert()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])])])},Ca=[],Oa=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"closeAlert",value:function(){this.$store.dispatch(H.CLOSE_ALERT)}},{key:"beforeMount",value:function(){}},{key:"alert",get:function(){var t=this;return!0===this.$store.state.alert.show&&setTimeout((function(){t.closeAlert()}),5e3),this.$store.state.alert}}]),e}(at["b"]);Oa=Object(et["a"])([at["a"]],Oa);var ya=Oa,ja=ya,Pa=Object(ct["a"])(ja,Ea,Ca,!1,null,null,null),Ia=Pa.exports,wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.dialog.show,expression:"dialog.show"}],staticClass:"modal fade show",staticStyle:{display:"block"},attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.dialog.title))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.closeDialog()}}},[a("span",[t._v("×")])])]),a("div",{staticClass:"modal-body"},[t._v("\n          "+t._s(t.dialog.msg)+"\n        ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.closeDialog()}}},[t._v("No")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.dialog.callback()}}},[t._v("Yes")])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dialog.show,expression:"dialog.show"}],staticClass:"modal-backdrop fade show"})])},Ra=[],Sa=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"closeDialog",value:function(){this.$store.dispatch(H.CLOSE_DIALOG)}},{key:"beforeMount",value:function(){}},{key:"dialog",get:function(){try{if(this.$store.state.dialog.show)return this.$store.state.dialog;throw Error}catch(t){return{show:!1,status:"",title:"",msg:"",hasConfirmButton:!1,hasCancelButton:!1,callback:function(){}}}}}]),e}(at["b"]);Sa=Object(et["a"])([at["a"]],Sa);var Ta=Sa,ka=Ta,Aa=(a("6d0e"),Object(ct["a"])(ka,wa,Ra,!1,null,null,null)),La=Aa.exports,Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-auto ml-3 mr-3"},[""!==t.user.avatar_url?a("UploadAvatarComponent",{attrs:{imageUrl:t.user.avatar_url}}):t._e()],1),a("div",{staticClass:"col"},[a("h4",{staticClass:"text-white"},[t._v("Profile")]),a("p",{staticClass:"text-light mb-1"},[t._v(t._s(t.user.username))]),a("p",{directives:[{name:"show",rawName:"v-show",value:!!t.user.email,expression:"!!user.email"}],staticClass:"text-light mb-1"},[t._v(t._s(t.user.email)),a("small",{staticClass:"text-muted pl-5"},[t._v("join on "+t._s(t._f("formatDate")(t.user.created_at)))])])]),a("div",{staticClass:"col col-md-4 text-right mr-3"},[a("ul",{staticClass:"list-unstyled",staticStyle:{"margin-bottom":"0px! important"}},[a("li",{staticStyle:{padding:".15rem 0"}},[a("router-link",{staticClass:"text-white",attrs:{to:{name:"my-recipes"}}},[t._v("My recipes")])],1),a("li",{staticStyle:{padding:".15rem 0"}},[a("a",{staticClass:"text-white",attrs:{href:""},on:{click:function(e){return e.stopPropagation(),t.logoutUser()}}},[t._v("Logout")])])])])])},Na=[],xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!!t.imageUrl,expression:"!!imageUrl"}],staticClass:"avatar-container"},[a("img",{staticStyle:{overflow:"hidden",width:"7rem",height:"7rem","background-position":"center center","background-repeat":"no-repeat","background-size":"cover"},style:{"background-image":t.backgroundImage}}),a("i",{staticClass:"fas fa-upload"}),a("input",{attrs:{type:"file"},on:{change:function(e){return t.onImageChange(e)}}})])},Da=[],$a=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.isUploading=!1,t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"onImageChange",value:function(t){var e=t.target.files||null;null!==e&&e.length&&(this.isUploading=!0,this.$store.dispatch(H.UPLOAD_AVATAR,{file:e[0]}))}},{key:"backgroundImage",get:function(){return"url('"+this.$props.imageUrl+"')"}}]),e}(at["b"]);$a=Object(et["a"])([Object(at["a"])({props:{imageUrl:String}})],$a);var Va=$a,Ga=Va,Ba=(a("8c29"),Object(ct["a"])(Ga,xa,Da,!1,null,null,null)),Ma=Ba.exports,Ha=function(t){function e(){return Object(M["a"])(this,e),Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments))}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"logoutUser",value:function(){var t=this;this.$store.dispatch(H.LOGOUT).then((function(e){t.$router.push({name:"home"})}))}},{key:"beforeMount",value:function(){}},{key:"user",get:function(){try{return this.$store.state.userStore.profile}catch(t){return{}}}}]),e}(at["b"]);Ha=Object(et["a"])([Object(at["a"])({components:{UploadAvatarComponent:Ma}})],Ha);var qa=Ha,Fa=qa,za=Object(ct["a"])(Fa,Ua,Na,!1,null,null,null),Ka=za.exports,Qa=function(t){function e(){var t;return Object(M["a"])(this,e),t=Object(W["a"])(this,Object(X["a"])(e).apply(this,arguments)),t.showCollapse=!1,t.username="",t.email="",t.createdAt="",t.imageUrl="",t}return Object(tt["a"])(e,t),Object(J["a"])(e,[{key:"closeAlert",value:function(){this.$store.dispatch(H.CLOSE_ALERT)}},{key:"routeChange",value:function(t,e){}},{key:"switchCollapse",value:function(){this.showCollapse=!this.showCollapse}},{key:"beforeMount",value:function(){}},{key:"alert",get:function(){var t=this;return!0===this.$store.state.alert.show&&setTimeout((function(){t.closeAlert()}),5e3),this.$store.state.alert}},{key:"isLogin",get:function(){try{return this.$store.state.isLogin}catch(t){return!1}}}]),e}(at["b"]);Object(et["a"])([Object(at["c"])("$route")],Qa.prototype,"routeChange",null),Qa=Object(et["a"])([Object(at["a"])({components:{ProfileComponent:Ka,AlertComponent:Ia,DialogComponent:La}})],Qa);var Ya=Qa,Za=Ya,Ja=(a("5c0b"),Object(ct["a"])(Za,ga,_a,!1,null,null,null)),Wa=Ja.exports;r["a"].config.productionTip=!1,r["a"].use(c.a),r["a"].use(s["a"]),r["a"].filter("formatDate",(function(t){return t?n()(String(t)).format("MM/DD/YYYY"):""}));new r["a"]({router:aa,store:ba,head:{title:{inner:"Smile Cook"},link:[{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"}],script:[{type:"text/javascript",src:"https://kit.fontawesome.com/4ae37ebd2b.js"}]},data:{},methods:{},watch:{},render:function(t){return t(Wa)}}).$mount("#app")},e332:function(t,e,a){}});
//# sourceMappingURL=app.e185beae.js.map